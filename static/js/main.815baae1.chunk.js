(this.webpackJsonpnotes_to_do=this.webpackJsonpnotes_to_do||[]).push([[0],{21:function(e,t,c){},23:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),a=c(6),o=c.n(a),i=c(3),r=c(5);c(21);var l=Object(s.createContext)(),d=c(1);function j(e){var t=Object(s.useState)(!1),c=Object(i.a)(t,2),n=c[0],a=c[1],o=Object(s.useContext)(l),r=o.dispatch,j=o.isEditor,u=o.setIsEditor,b=o.idPos,O=j?" form-notes--active":"",m=n?" form-notes__text--alert":"",f=Object(s.useRef)();return Object(d.jsx)("div",{className:"form-notes ".concat(O),children:Object(d.jsxs)("form",{className:"form-notes-wrap",children:[n?Object(d.jsx)("p",{className:"msg-alert",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u0432\u0432\u043e\u0434\u0430 \u043d\u043e\u0432\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438"}):"",Object(d.jsx)("textarea",{onChange:function(){a(!1)},ref:f,className:"form-notes__text ".concat(m),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438"}),Object(d.jsxs)("div",{className:"form-notes-manage",children:[Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),u(!1),a(!1),f.current.value=""},className:"form-notes__btn form-notes__btn--close",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(d.jsx)("button",{onClick:function(e){var t=f.current.value.trim();e.preventDefault(),t.length>0?(a(!1),r(function(e,t,c){return{type:"SET_NOTE",payload:{result:e,id:t,checked:c}}}(t,b,!1)),r({type:"SET_NEW_ID"}),u(!1),f.current.value=""):a(!0)},className:"form-notes__btn form-notes__btn--add",type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})})}function u(e){var t=Object(s.useContext)(l),c=t.dispatch,n=t.list;return Object(d.jsx)("ul",{className:"list-to-do",children:n.map((function(e,t){return Object(d.jsx)("li",{onClick:function(t){!function(e,t){if(e.target.classList.contains("list-to-do__check")){var s=t.id,n=!t.checked;c(function(e,t){return{type:"CHECK_TODO_NOTE",payload:{id:e,checked:t}}}(s,n))}}(t,e)},className:"list-to-do__elem",children:Object(d.jsxs)("label",{className:"list-to-do__label",children:[Object(d.jsx)("input",{className:"list-to-do__check",type:"checkbox",defaultChecked:e.checked}),Object(d.jsxs)("div",{className:"list-to-do__text-wrap",children:[Object(d.jsx)("div",{className:"list-to-do__checkbox"}),Object(d.jsx)("span",{className:"list-to-do__text",children:e.result})]})]})},t)}))})}function b(e){var t=Object(s.useState)(!1),c=Object(i.a)(t,2),n=c[0],a=c[1],o=Object(s.useContext)(l),r=o.dispatch,j=o.setIsUpdate,u=o.isUpdate,b=o.itemNote,O=b.id,m=b.result,f=b.checked,h=u?" form-notes--active":"",_=n?" form-notes__text--alert":"",x=Object(s.useRef)();x.current&&(x.current.value=m);return Object(d.jsx)("div",{className:"form-notes ".concat(h),children:Object(d.jsxs)("form",{className:"form-notes-wrap",children:[n?Object(d.jsx)("p",{className:"msg-alert",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u0430 \u0437\u0430\u0434\u0430\u0447\u0438"}):"",Object(d.jsx)("textarea",{onChange:function(){a(!1)},type:"text",ref:x,className:"form-notes__text ".concat(_),defaultValue:e.item}),Object(d.jsxs)("div",{className:"form-notes-manage",children:[Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),a(!1),j(!1)},className:"form-notes__btn form-notes__btn--close",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(d.jsx)("button",{onClick:function(e){e.preventDefault();var t=x.current.value.trim();e.preventDefault(),t.length>0?(a(!1),r(function(e,t,c){return{type:"UPDATE_NOTE",payload:{result:e,id:t,checked:c}}}(t,O,f)),j(!1)):a(!0)},className:"form-notes__btn form-notes__btn--add",type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})}function O(e){var t=Object(s.useContext)(l),c=t.dispatch,n=t.list,a=t.setEditMode,o=Object(s.useState)(!1),r=Object(i.a)(o,2),j=r[0],u=r[1],O=Object(s.useState)({}),m=Object(i.a)(O,2),f=m[0],h=m[1];return Object(d.jsxs)(l.Provider,{value:{dispatch:c,setIsUpdate:u,isUpdate:j,itemNote:f},children:[Object(d.jsx)("ul",{className:"list-to-do",children:n.map((function(e,t){return Object(d.jsx)("li",{className:"list-to-do__elem",children:Object(d.jsxs)("label",{className:"list-to-do__label",children:[Object(d.jsx)("input",{className:"list-to-do__check",type:"checkbox",defaultChecked:e.checked,disabled:!0}),Object(d.jsxs)("div",{className:"list-to-do__text-wrap",children:[Object(d.jsx)("div",{onClick:function(){return t=e.id,c(function(e){return{type:"DELETE_NOTE",payload:e}}(t)),void(n.length-1||a(!1));var t},className:"list-to-do__remove"}),Object(d.jsx)("span",{onClick:function(){return t=e.id,u(!0),void h(n.find((function(e){return e.id===t})));var t},className:"list-to-do__text",children:e.result})]})]})},t)}))}),Object(d.jsx)(b,{})]})}function m(e){var t=Object(s.useContext)(l),c=t.list,n=t.editMode,a=t.setEditMode;return Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)("h1",{className:"header__title",children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}),c.length>0&&Object(d.jsx)("button",{onClick:function(){a(!n)},className:"edit-notes",children:e.stateEditBtn})]})}var f=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.addNoteReducer})),c=t.listNotes,n=t.id,a=Object(s.useState)(!1),o=Object(i.a)(a,2),b=o[0],f=o[1],h=Object(s.useState)(!1),_=Object(i.a)(h,2),x=_[0],p=_[1],N=x?"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c":"\u041f\u0440\u0430\u0432\u0438\u0442\u044c";return Object(d.jsx)(l.Provider,{value:{list:c,dispatch:e,isEditor:b,setIsEditor:f,idPos:n,setEditMode:p,editMode:x},children:Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)(m,{stateEditBtn:N}),c.length?x?Object(d.jsx)(O,{}):Object(d.jsx)(u,{}):Object(d.jsx)("p",{className:"msg-alert",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447 \u043f\u0443\u0441\u0442"}),!x&&Object(d.jsx)("button",{onClick:function(){f(!0)},className:"add-note"}),Object(d.jsx)(j,{})]})})},h=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,24)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,o=t.getTTFB;c(e),s(e),n(e),a(e),o(e)}))},_=c(8),x=c(12),p=c(2),N={listNotes:[],id:0};var v=Object(_.a)({addNoteReducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case"SET_NEW_ID":return Object(p.a)(Object(p.a)({},t),{},{id:t.id+1});case"SET_NOTE":return Object(p.a)(Object(p.a)({},t),{},{listNotes:[].concat(Object(x.a)(t.listNotes),[Object(p.a)({},c.payload)])});case"DELETE_NOTE":return e=t.listNotes.filter((function(e){return e.id!==c.payload})),Object(p.a)(Object(p.a)({},t),{},{listNotes:e});case"CHECK_TODO_NOTE":return e=t.listNotes.map((function(e){return e.id===c.payload.id&&(e.checked=c.payload.checked),e})),Object(p.a)(Object(p.a)({},t),{},{listNotes:e});case"UPDATE_NOTE":return e=t.listNotes.map((function(e){return e.id===c.payload.id&&(e.result=c.payload.result),e})),Object(p.a)(Object(p.a)({},t),{},{listNotes:e});default:return t}}}),E=v,g=window.localStorage.getItem("storage")?JSON.parse(window.localStorage.getItem("storage")):{},k=Object(_.b)(E,g);k.subscribe((function(){window.localStorage.setItem("storage",JSON.stringify(k.getState()))})),o.a.render(Object(d.jsx)(r.a,{store:k,children:Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(f,{})})}),document.getElementById("root")),h()}},[[23,1,2]]]);
//# sourceMappingURL=main.815baae1.chunk.js.map